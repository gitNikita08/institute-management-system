{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import axios from \"axios\";\n// import { toast } from \"react-toastify\";\n// import { useLocation, useNavigate } from \"react-router-dom\";\n\n// const AddCourses = () => {\n//   const [courseName, setCourseName] = useState(\"\");\n//   const [description, setDescription] = useState(\"\");\n//   const [price, setPrice] = useState(\"\");\n//   const [startDate, setStartDate] = useState(\"\");\n//   const [endDate, setEndDate] = useState(\"\");\n//   const [image, setImage] = useState(\"null\");\n\n//   const [imageURL, setImageURL] = useState(\"\");\n//   const [isLoading, setLoading] = useState(false);\n\n//   const navigate = useNavigate();\n//   const location = useLocation();\n\n//   useEffect(() => {\n//     if (location.state) {\n//       console.log(location.state.course);\n//       setCourseName(location.state.course.courseName);\n//       setDescription(location.state.course.description);\n//       setPrice(location.state.course.price);\n//       setStartDate(location.state.course.startDate);\n//       setEndDate(location.state.course.endDate);\n//       setImageURL(location.state.course.imageURL);\n//     }\n//   }, []);\n\n//   const submitHandler = (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n\n//     const formData = new FormData();\n//     formData.append(\"courseName\", courseName);\n//     formData.append(\"description\", description);\n//     formData.append(\"price\", price);\n//     formData.append(\"startDate\", startDate);\n//     formData.append(\"endDate\", endDate);\n\n//     if (image) {\n//       formData.append(\"image\", image);\n//     }\n\n//     if (location.state) {\n//       // Edit course\n//       axios\n//         .put(\n//           `http://localhost:4200/course/${location.state.course._id}`,\n//           formData,\n//           {\n//             headers: {\n//               Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n//             },\n//           }\n//         )\n//         .then((res) => {\n//           setLoading(false);\n//           toast.success(\"Course updated...\");\n//           navigate(`/dashboard/course-details/${location.state.course._id}`);\n//         })\n//         .catch((err) => {\n//           setLoading(false);\n//           console.error(err);\n//           toast.error(\"Something went wrong...\");\n//         });\n//     } else {\n//       // Add course\n//       axios\n//         .post(\"http://localhost:4200/course\", formData, {\n//           headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n//         })\n//         .then((res) => {\n//           setLoading(false);\n//           toast.success(\"Course added...\");\n//           navigate(`/dashboard/course-details/${res.data._id}`);\n//         })\n//         .catch((err) => {\n//           setLoading(false);\n//           console.error(err);\n//           toast.error(\"Something went wrong...\");\n//         });\n//     }\n//   };\n\n//   // set the image url to the value\n//   const fileHandler = (e) => {\n//     setImage(e.target.files[0]);\n//     setImageURL(URL.createObjectURL(e.target.files[0]));\n//   };\n\n//   return (\n//     <div>\n//       <form onSubmit={submitHandler} className=\"form\">\n//         <h1>{location.state ? \"Edit Course\" : \"Add New Course\"}</h1>\n//         <input\n//           value={courseName}\n//           required\n//           onChange={(e) => {\n//             setCourseName(e.target.value);\n//           }}\n//           placeholder=\"Course Name\"\n//           type=\"text\"\n//         />\n//         <input\n//           value={description}\n//           required\n//           onChange={(e) => {\n//             setDescription(e.target.value);\n//           }}\n//           placeholder=\"Description\"\n//           type=\"text\"\n//         />\n//         <input\n//           value={price}\n//           required\n//           onChange={(e) => {\n//             setPrice(e.target.value);\n//           }}\n//           placeholder=\"Price\"\n//           type=\"number\"\n//         />\n//         <input\n//           value={startDate}\n//           required\n//           onChange={(e) => {\n//             setStartDate(e.target.value);\n//           }}\n//           placeholder=\"Starting Date (DD-MM-YY)\"\n//           type=\"date\"\n//         />\n//         <input\n//           required\n//           value={endDate}\n//           onChange={(e) => {\n//             setEndDate(e.target.value);\n//           }}\n//           placeholder=\"End Date (DD-MM-YY)\"\n//           type=\"date\"\n//         />\n//         <input required={!location.state} onChange={fileHandler} type=\"file\" />\n//         {imageURL && <img className=\"your-logo\" alt=\"Preview\" src={imageURL} />}\n//         <button type=\"submit\" className=\"submit-btn\">\n//           {isLoading && <i className=\"fa-solid fa-spinner fa-spin-pulse\"></i>}\n//           Submit\n//         </button>\n//       </form>\n//     </div>\n//   );\n// };\n\n// export default AddCourses;","map":{"version":3,"names":[],"sources":["D:/Institute-Management-System/educational_institute/src/components/AddCourses.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import axios from \"axios\";\r\n// import { toast } from \"react-toastify\";\r\n// import { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\n// const AddCourses = () => {\r\n//   const [courseName, setCourseName] = useState(\"\");\r\n//   const [description, setDescription] = useState(\"\");\r\n//   const [price, setPrice] = useState(\"\");\r\n//   const [startDate, setStartDate] = useState(\"\");\r\n//   const [endDate, setEndDate] = useState(\"\");\r\n//   const [image, setImage] = useState(\"null\");\r\n\r\n//   const [imageURL, setImageURL] = useState(\"\");\r\n//   const [isLoading, setLoading] = useState(false);\r\n\r\n//   const navigate = useNavigate();\r\n//   const location = useLocation();\r\n\r\n//   useEffect(() => {\r\n//     if (location.state) {\r\n//       console.log(location.state.course);\r\n//       setCourseName(location.state.course.courseName);\r\n//       setDescription(location.state.course.description);\r\n//       setPrice(location.state.course.price);\r\n//       setStartDate(location.state.course.startDate);\r\n//       setEndDate(location.state.course.endDate);\r\n//       setImageURL(location.state.course.imageURL);\r\n//     }\r\n//   }, []);\r\n\r\n//   const submitHandler = (e) => {\r\n//     e.preventDefault();\r\n//     setLoading(true);\r\n\r\n//     const formData = new FormData();\r\n//     formData.append(\"courseName\", courseName);\r\n//     formData.append(\"description\", description);\r\n//     formData.append(\"price\", price);\r\n//     formData.append(\"startDate\", startDate);\r\n//     formData.append(\"endDate\", endDate);\r\n\r\n//     if (image) {\r\n//       formData.append(\"image\", image);\r\n//     }\r\n\r\n//     if (location.state) {\r\n//       // Edit course\r\n//       axios\r\n//         .put(\r\n//           `http://localhost:4200/course/${location.state.course._id}`,\r\n//           formData,\r\n//           {\r\n//             headers: {\r\n//               Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n//             },\r\n//           }\r\n//         )\r\n//         .then((res) => {\r\n//           setLoading(false);\r\n//           toast.success(\"Course updated...\");\r\n//           navigate(`/dashboard/course-details/${location.state.course._id}`);\r\n//         })\r\n//         .catch((err) => {\r\n//           setLoading(false);\r\n//           console.error(err);\r\n//           toast.error(\"Something went wrong...\");\r\n//         });\r\n//     } else {\r\n//       // Add course\r\n//       axios\r\n//         .post(\"http://localhost:4200/course\", formData, {\r\n//           headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n//         })\r\n//         .then((res) => {\r\n//           setLoading(false);\r\n//           toast.success(\"Course added...\");\r\n//           navigate(`/dashboard/course-details/${res.data._id}`);\r\n//         })\r\n//         .catch((err) => {\r\n//           setLoading(false);\r\n//           console.error(err);\r\n//           toast.error(\"Something went wrong...\");\r\n//         });\r\n//     }\r\n//   };\r\n\r\n//   // set the image url to the value\r\n//   const fileHandler = (e) => {\r\n//     setImage(e.target.files[0]);\r\n//     setImageURL(URL.createObjectURL(e.target.files[0]));\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <form onSubmit={submitHandler} className=\"form\">\r\n//         <h1>{location.state ? \"Edit Course\" : \"Add New Course\"}</h1>\r\n//         <input\r\n//           value={courseName}\r\n//           required\r\n//           onChange={(e) => {\r\n//             setCourseName(e.target.value);\r\n//           }}\r\n//           placeholder=\"Course Name\"\r\n//           type=\"text\"\r\n//         />\r\n//         <input\r\n//           value={description}\r\n//           required\r\n//           onChange={(e) => {\r\n//             setDescription(e.target.value);\r\n//           }}\r\n//           placeholder=\"Description\"\r\n//           type=\"text\"\r\n//         />\r\n//         <input\r\n//           value={price}\r\n//           required\r\n//           onChange={(e) => {\r\n//             setPrice(e.target.value);\r\n//           }}\r\n//           placeholder=\"Price\"\r\n//           type=\"number\"\r\n//         />\r\n//         <input\r\n//           value={startDate}\r\n//           required\r\n//           onChange={(e) => {\r\n//             setStartDate(e.target.value);\r\n//           }}\r\n//           placeholder=\"Starting Date (DD-MM-YY)\"\r\n//           type=\"date\"\r\n//         />\r\n//         <input\r\n//           required\r\n//           value={endDate}\r\n//           onChange={(e) => {\r\n//             setEndDate(e.target.value);\r\n//           }}\r\n//           placeholder=\"End Date (DD-MM-YY)\"\r\n//           type=\"date\"\r\n//         />\r\n//         <input required={!location.state} onChange={fileHandler} type=\"file\" />\r\n//         {imageURL && <img className=\"your-logo\" alt=\"Preview\" src={imageURL} />}\r\n//         <button type=\"submit\" className=\"submit-btn\">\r\n//           {isLoading && <i className=\"fa-solid fa-spinner fa-spin-pulse\"></i>}\r\n//           Submit\r\n//         </button>\r\n//       </form>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default AddCourses;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}